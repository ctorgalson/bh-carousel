/*! bh-carousel 0.6.0 — © Christopher Torgalson */
var global,factory;global=this,factory=function(){return class BhCarousel{el;current;defaults={ariaLabelPause:"Pause carousel",ariaLabelPlay:"Play carousel",autoEnable:!0,automatic:!0,controlType:"buttons",interval:4e3,itemStateAttribute:"aria-hidden",startingIndex:0};firstIndex;intervalId;lastIndex;nextButton;playing;playPauseButton;previousButton;prefersReducedMotion;selectors={nextButton:"[data-bhc-next]",playPauseButton:"[data-bhc-play-pause]",previousButton:"[data-bhc-previous]",slide:"[aria-roledescription='slide']"};settings;slides;constructor(t,e){this.el=t,this.settings={...this.defaults,...e},this.slides=[...this.el.querySelectorAll(this.selectors.slide)],this.playPauseButton=this.el.querySelector(this.selectors.playPauseButton),this.nextButton=this.el.querySelector(this.selectors.nextButton),this.previousButton=this.el.querySelector(this.selectors.previousButton),this.firstIndex=0,this.lastIndex=this.slides.length-1,this.current=this.settings.startingIndex,this.playing=!1,this.prefersReducedMotion=this.getPrefersReducedMotion(),this.settings.autoEnable&&this.enable()}createEvent=t=>new CustomEvent("BhCarousel",{bubbles:!0,cancelable:!1,composed:!0,detail:t});disable=()=>{this.nextButton.disabled=!0,this.nextButton.removeEventListener("click",this.handleNextClick),this.previousButton.disabled=!0,this.previousButton.removeEventListener("click",this.handlePreviousClick),this.playPauseButton&&(this.playPauseButton.disabled=!0,this.playPauseButton.removeAttribute("aria-label"),this.playPauseButton.removeEventListener("click",this.handlePlayPauseClick),this.playPauseButton.dataset.playing&&this.pause()),window.removeEventListener("keydown",this.handleKeydown)};enable=()=>{this.slides.forEach(((t,e)=>t.setAttribute(this.settings.itemStateAttribute,(e!==this.current).toString()))),this.nextButton.hidden=!1,this.nextButton.addEventListener("click",this.handleNextClick),this.previousButton.hidden=!1,this.previousButton.addEventListener("click",this.handlePreviousClick),this.playPauseButton&&(this.playPauseButton.hidden=!1,this.prefersReducedMotion?this.playPauseButton.disabled=!0:(this.playPauseButton.disabled=!1,this.playPauseButton.dataset.bhcPlaying=this.playing.toString(),this.playPauseButton.addEventListener("click",this.handlePlayPauseClick),this.settings.automatic?this.play():this.pause())),window.addEventListener("keydown",this.handleKeydown)};getCurrentIndex=()=>this.current;getFirstIndex=()=>this.firstIndex;getLastIndex=()=>this.lastIndex;getPrefersReducedMotion=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;goto=t=>{const e=this.current;let s;s="next"===t?this.current===this.lastIndex?this.firstIndex:this.current+1:"previous"===t?this.current===this.firstIndex?this.lastIndex:this.current-1:t,this.slides[this.current].setAttribute(this.settings.itemStateAttribute,(!0).toString()),this.slides[s].setAttribute(this.settings.itemStateAttribute,(!1).toString()),this.current=s,"next"!==t&&"previous"!==t||this.el.dispatchEvent(this.createEvent({action:t,currentIndex:s,previousIndex:e}))};handleKeydown=t=>{const{key:e}=t;"ArrowRight"!==e||this.nextButton.disabled?"ArrowLeft"!==e||this.previousButton.disabled?"p"!==e.toLowerCase()||this.prefersReducedMotion||this.playPauseButton&&(this.playing?this.pause():this.play()):this.previous():this.next()};handleNextClick=t=>{t.currentTarget===this.nextButton&&this.next()};handlePlayPauseClick=t=>{t.currentTarget===this.playPauseButton&&(this.playing?this.pause():this.play())};handlePreviousClick=t=>{t.currentTarget===this.previousButton&&this.previous()};next=()=>this.goto("next");pause=()=>{window.clearInterval(this.intervalId),this.playing=!1,this.playPauseButton.dataset.bhcPlaying=this.playing.toString(),this.playPauseButton.setAttribute("aria-label",this.settings.ariaLabelPlay),this.nextButton.disabled=!1,this.previousButton.disabled=!1,this.el.dispatchEvent(this.createEvent({action:"pause"}))};play=()=>{this.intervalId=window.setInterval((()=>{this.goto("next")}),this.settings.interval),this.playing=!0,this.playPauseButton.dataset.bhcPlaying=this.playing.toString(),this.playPauseButton.setAttribute("aria-label",this.settings.ariaLabelPause),this.nextButton.disabled=!0,this.previousButton.disabled=!0,this.el.dispatchEvent(this.createEvent({action:"play"}))};previous=()=>this.goto("previous")}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).BhCarousel=factory();
